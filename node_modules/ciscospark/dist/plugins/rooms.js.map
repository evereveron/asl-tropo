{"version":3,"sources":["../../src/plugins/rooms.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA,IAAM,QAAQ,uBAAY,MAAZ;;AAEZ;;;;;;;;;;;;;;;AAcA,0BAAO,MAAM;AACX,WAAO,KAAK,OAAL,CAAa;AAClB,oBADkB;AAElB,WAAQ,KAAK,MAAL,CAAY,eAAZ,WAAR;AACA,YAAM,IAAN;KAHK,EAKJ,IALI,CAKC,UAAC,GAAD;aAAS,IAAI,IAAJ;KAAT,CALR,CADW;GAdb;;;;;;;;;;;;;;;;;AAqCA,oBAAI,MAAM,SAAS;AACjB,QAAM,KAAK,KAAK,EAAL,IAAW,IAAX,CADM;;AAGjB,WAAO,KAAK,OAAL,CAAa;AAClB,WAAQ,KAAK,MAAL,CAAY,eAAZ,eAAqC,EAA7C;AACA,UAAI,OAAJ;KAFK,EAIJ,IAJI,CAIC,UAAC,GAAD;aAAS,IAAI,IAAJ,CAAS,KAAT,IAAkB,IAAI,IAAJ;KAA3B,CAJR,CAHiB;GArCnB;;;;;;;;;;;;;;;;;;;AA+DA,sBAAK,SAAS;;;AACZ,WAAO,KAAK,OAAL,CAAa;AAClB,WAAQ,KAAK,MAAL,CAAY,eAAZ,YAAR;AACA,UAAI,OAAJ;KAFK,EAIJ,IAJI,CAIC,UAAC,GAAD;aAAS,mBAAS,GAAT,EAAc,MAAK,KAAL;KAAvB,CAJR,CADY;GA/Dd;;;;;;;;;;;;AAgFA,0BAAO,MAAM;AACX,QAAM,KAAK,KAAK,EAAL,IAAW,IAAX,CADA;AAEX,WAAO,KAAK,OAAL,CAAa;AAClB,sBADkB;AAElB,WAAQ,KAAK,MAAL,CAAY,eAAZ,eAAqC,EAA7C;KAFK,EAIJ,IAJI,CAIC,UAAC,GAAD,EAAS;;;AAGb,UAAI,IAAI,UAAJ,KAAmB,GAAnB,EAAwB;AAC1B,eAAO,SAAP,CAD0B;OAA5B;AAGA,aAAO,IAAI,IAAJ,CANM;KAAT,CAJR,CAFW;GAhFb;;;;;;;;;;;;AAyGA,0BAAO,MAAM;AACX,QAAM,KAAK,KAAK,EAAL,CADA;AAEX,WAAO,KAAK,OAAL,CAAa;AAClB,mBADkB;AAElB,WAAQ,KAAK,MAAL,CAAY,eAAZ,eAAqC,EAA7C;AACA,YAAM,IAAN;KAHK,EAKJ,IALI,CAKC,UAAC,GAAD;aAAS,IAAI,IAAJ;KAAT,CALR,CAFW;GAzGb;CAFY,CAAR;;kBAsHS","file":"rooms.js","sourcesContent":["/**!\n *\n * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.\n * @private\n */\n\nimport {SparkPlugin} from '@ciscospark/spark-core';\nimport Page from '../lib/page';\n\n/**\n * @typedef {Object} Types~Room\n * @property {string} id - (server generated) Unique identifier for the room\n * @property {string} title - The display name for the room. All room members\n * will see the title so make it something good\n * @property {isoDate} created - (server generated) The date and time that the\n * room was created\n */\n\n/**\n * Rooms are virtual meeting places for getting stuff done. This resource\n * represents the room itself. Check out the Memberships API to learn how to add\n * and remove people from rooms and the Messages API for posting and managing\n * content.\n * @class\n * @extends SparkPlugin\n */\nconst Rooms = SparkPlugin.extend(\n  /** @lends Rooms.prototype */\n  {\n  /**\n   * Creates a new room. The authenticated user is automatically added as a\n   * member of the room. See the @{link Memberships} to learn how to add more\n   * people to the room.\n   * {@link Membership}\n   * @param {Types~Room} room\n   * @returns {Promise<Types~Room>}\n   * @example\n   * <%= rooms__create_es6 %>\n   * @example\n   * <%= rooms__create %>\n   *\n   */\n  create(room) {\n    return this.request({\n      method: `POST`,\n      uri: `${this.config.hydraServiceUrl}/rooms`,\n      body: room\n    })\n      .then((res) => res.body);\n  },\n\n  /**\n   * Returns a single room.\n   * @param {Types~Room|string} room\n   * @param {Object} options\n   * @param {Object} options.includeSipAddress To show the SIP address for the\n   * room in the response, set this value to `true`. A session initiation\n   * protocol (SIP) address is a URI that addresses a specific telephone\n   * extension on a voice over IP (VOIP) system.\n   * @returns {Promise<Types~Room>}\n   * @example\n   * <%= rooms__get_es6 %>\n   * @example\n   * <%= rooms__get %>\n   */\n  get(room, options) {\n    const id = room.id || room;\n\n    return this.request({\n      uri: `${this.config.hydraServiceUrl}/rooms/${id}`,\n      qs: options\n    })\n      .then((res) => res.body.items || res.body);\n  },\n\n  /**\n   * Returns a list of rooms. In most cases the results will only contain rooms\n   * that the authentiated user is a member of.\n   * @param {Object} options\n   * @param {Object} options.max Limit the maximum number of rooms in the\n   * response.\n   * @param {Object} options.includeSipAddress To show the SIP address for the\n   * room in the response, set this value to `true`. A session initiation\n   * protocol (SIP) address is a URI that addresses a specific telephone\n   * extension on a voice over IP (VOIP) system.\n   * @returns {Promise<Page<Types~Room>>}\n   * @example\n   * <%= rooms__list_es6 %>\n   * @example\n   * <%= rooms__list %>\n   */\n  list(options) {\n    return this.request({\n      uri: `${this.config.hydraServiceUrl}/rooms/`,\n      qs: options\n    })\n      .then((res) => new Page(res, this.spark));\n  },\n\n  /**\n   * Deletes a single room.\n   * @param {Types~Room|string} room\n   * @returns {Promise}\n   * @example\n   * <%= rooms__remove_es6 %>\n   * @example\n   * <%= rooms__remove %>\n   */\n  remove(room) {\n    const id = room.id || room;\n    return this.request({\n      method: `DELETE`,\n      uri: `${this.config.hydraServiceUrl}/rooms/${id}`\n    })\n      .then((res) => {\n        // Firefox has some issues with 204s and/or DELETE. This should move to\n        // http-core\n        if (res.statusCode === 204) {\n          return undefined;\n        }\n        return res.body;\n      });\n  },\n\n  /**\n   * Used to update a single room's properties.\n   * @param {Types~Room} room\n   * @returns {Promise<Types~Room>}\n   * @example\n   * <%= rooms__update_es6 %>\n   * @example\n   * <%= rooms__update %>\n   */\n  update(room) {\n    const id = room.id;\n    return this.request({\n      method: `PUT`,\n      uri: `${this.config.hydraServiceUrl}/rooms/${id}`,\n      body: room\n    })\n      .then((res) => res.body);\n  }\n});\n\nexport default Rooms;\n"]}